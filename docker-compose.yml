version: '3.8'

services:
  # R + Python 分析环境
  analysis-env:
    build:
      context: ./docker
      dockerfile: Dockerfile
    container_name: bioclaw-analysis
    ports:
      - "8787:8787"  # RStudio Server
      - "8888:8888"  # JupyterLab
    volumes:
      - ./data:/home/rstudio/data
      - ./outputs:/home/rstudio/outputs
      - ./skills:/home/rstudio/skills
    environment:
      - PASSWORD=bioclaw
      - ROOT=TRUE
    restart: unless-stopped
    networks:
      - bioclaw-network

networks:
  bioclaw-network:
    driver: bridge
